üöÄ Full Observability Stack Setup Guide (PLPA)This repository contains a complete, lightweight, and modern Observability Stack for your homelab, featuring:Promtail (Log Collection)Loki (Log Storage)Prometheus (Metrics Collection)Alertmanager (Alert Routing)Grafana (Visualization & UI)This stack is designed to run easily in Docker and centralize both your application logs and system metrics.1. ‚öôÔ∏è Deployment and ConfigurationFollow these steps to get your logging and monitoring system running:üì¶ Save the Files:Ensure all five essential YAML configuration files are placed in the same directory:docker-compose.yamlloki-config.yamlpromtail-config.yamlprometheus.yamlalertmanager.yamlüö® CRITICAL PUSHOVER SETUP:Open the alertmanager.yaml file and replace the two placeholder tokens with your actual keys from the Pushover service. This step is mandatory as it centralizes all alert notifications:Replace YOUR_PUSHOVER_APP_TOKEN (Application Key)Replace YOUR_PUSHOVER_USER_KEY (User Key or Group Key)‚ñ∂Ô∏è Start the Stack:Run the following command in the directory containing the files to download images and start all five services in the background:docker compose up -d
2. üåê Accessing the Web UIsOnce the stack is running, you can access the following web interfaces:ServicePurposeURLGrafanaCentral UI for Logs, Metrics, and Alertinghttp://localhost:3000 (or http://<your-server-ip>:3000)PrometheusMetrics Query and Status UIhttp://localhost:9090AlertmanagerAlert Grouping and Routing Configuration UIhttp://localhost:9093Default Grafana Login: admin / strongpassword (Change this immediately after logging in!)3. üîó Configure Data Sources in GrafanaGrafana needs to know where to find your logs (Loki) and metrics (Prometheus):In Grafana, go to Configuration (gear icon ‚öôÔ∏è in the left sidebar) and click Data Sources.Add Loki (Logs):Click Add data source and select Loki.Under HTTP > URL, enter: http://loki:3100 (This uses the Docker service name).Click Save & Test.Add Prometheus (Metrics):Click Add data source and select Prometheus.Under HTTP > URL, enter: http://prometheus:9090 (This uses the Docker service name).Click Save & Test.4. üîî Alerting WorkflowSince Alertmanager is integrated, you can create unified alerts:Pushover Connection: The alertmanager.yaml file handles the connection to the Pushover API.Alert Rules: All alert rules are created directly within Grafana (using the bell icon üîî in the left sidebar).Use LogQL to trigger alerts based on log patterns (e.g., finding "ERROR" lines).Use PromQL to trigger alerts based on metrics (e.g., CPU usage exceeding 90%).Grafana forwards these alerts to Alertmanager, which applies grouping, silencing, and ultimately routes the final, consolidated notification to your Pushover device.
